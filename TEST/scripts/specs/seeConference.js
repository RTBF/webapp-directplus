// Generated by CoffeeScript 1.4.0

define(['jquery'], function($) {
  return describe("As a user I want to watch the conference in real time", function() {
    describe("test that the connection is established", function() {
      return it("should connect to the server", function() {
        var connected, testConnected;
        connected = null;
        runs(function() {
          return connected = false;
        });
        testConnected = function() {
          connected = $('.js-status').hasClass('connected');
          return connected;
        };
        waitsFor(testConnected, "The connection should be established", 5000);
        return runs(function() {
          return expect(connected).toBe(true);
        });
      });
    });
    describe("Data received is a slide and what kind it is", function() {
      return it("should ");
    });
    return describe("that if I receive two slide the last one which contains title WORLD is shown", function() {
      return it("should display the last slide only", function() {
        var found, testLastSlide;
        found = null;
        runs(function() {
          return found = false;
        });
        testLastSlide = function() {
          var CurrentID;
          CurrentID = $('.current>div').attr('id');
          console.log(CurrentID);
          if (CurrentID === "002") {
            found = true;
            console.log('found World');
            return true;
          } else {
            return false;
          }
        };
        waitsFor(testLastSlide, "Second slide found", 10000);
        return runs(function() {
          var slideCount;
          slideCount = 0;
          $('#SlideList>li').each(function(index, elem) {
            return slideCount++;
          });
          expect(found).toBe(true);
          return expect(slideCount).toBe(2);
        });
      });
    });
  });
});
